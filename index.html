<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>라인 뽑기 페이지</title>
  <style>
    body { font-family: sans-serif; padding: 2rem; }
    input { margin: 0.3rem; }
    .pair-list, .result { margin-top: 1rem; }
    .result { font-weight: bold; }
  </style>
</head>
<body>
  <h1>라인 뽑기</h1>
  
  <div>
    <input type="text" id="name1" placeholder="참여자 명" />
    <input type="text" id="name2" placeholder="참여자 명" />
    <button onclick="addPair()">추가</button>
  </div>

  <div class="pair-list" id="pairList"></div>

  <div style="margin-top:1rem">
    <button onclick="shuffleTeams()">팀 뽑기!</button>
  </div>

  <div class="result" id="result"></div>

  <script>
    const pairs = [];

    function shuffleTeams() {
  if (pairs.length === 0) {
    alert("팀을 먼저 입력해주세요!");
    return;
  }

  // 팀 리스트 섞기
  const shuffled = pairs.slice();
  for (let i = shuffled.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
  }

  // 팀 내부 사람들 위치도 무작위로 섞기
  shuffled.forEach(pair => {
    if (Math.random() < 0.5) {
      [pair[0], pair[1]] = [pair[1], pair[0]]; // 순서 바꾸기
    }
  });

  const resultDiv = document.getElementById("result");
  resultDiv.innerHTML = "<h3>무작위 팀 결과</h3>";
  shuffled.forEach((pair, index) => {
    resultDiv.innerHTML += `<div>팀 ${index + 1}: ${pair[0]} & ${pair[1]}</div>`;
  });
}
  </script>
</body>
</html>